{% extends 'monTemplate.html.twig' %}

    {% block body %}
        <section class="inner wrapper style1 fullscreen fade-up ">
          <div class="partie-container">
            <div class="tabs">
                <div class="tabs__sidebar">
                  {% for plateau in partie.plateauEnJeu %}
                    <button class="tabs__button" data-for-tab="{{loop.index}}">{{plateau.nom}}</button>
                  {% endfor %}
                </div>
                {% for plateau in partie.plateauEnJeu %}
                <div class="tabs__content" id="plateau-{{loop.index}}" data-tab="{{loop.index}}">

                </div>
                {% endfor %}
            </div>
          </div>

                <div class="row">
                        <p id="creaJoueur"></p>
                </div>
                <div class="row">
                        {% if utilisateur.pseudo == partie.createur.pseudo %}
                        <ul class="actions">
                            <li><a role="button" href="{{ path('parametres_partie', {'idPartie' : partie.id}) }}"
                                class="btn button scrolly">Param√®tres</a>
                            </li>

                        </ul>
                        {%endif%}
                </div>
        </section>
	{% block menuMiniScreen %}
  {% endblock %}

  <script type="text/javascript">
    function setupTabs(){
      document.querySelectorAll('.tabs__button').forEach(button => {
        button.addEventListener('click', () => {
          const sideBar = button.parentElement;
          const tabsContainer = sideBar.parentElement;
          const tabNumber = button.dataset.forTab;
          const tabToActivate = tabsContainer.querySelector(`.tabs__content[data-tab="${tabNumber}"]`);

          sideBar.querySelectorAll(".tabs__button").forEach(button => {
            button.classList.remove("tabs__button--active");
          });

          tabsContainer.querySelectorAll(".tabs__content").forEach(tab => {
            tab.classList.remove("tabs__content--active");
          });

          button.classList.add("tabs__button--active");
          tabToActivate.classList.add("tabs__content--active");

        });
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      setupTabs();

      document.querySelectorAll(".tabs").forEach( tabsContainer => {
        tabsContainer.querySelector(".tabs__sidebar .tabs__button").click();
      });

    });
  </script>

          <script type="text/javascript">
              var idPartie = {{ partie.id }};
              var assetsBaseDir = "{{ asset('tilemap/') }}"
          </script>

          <script type="text/javascript" src="{{asset('tilemap/js/classes/XmlHttpRequest.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/ToolBox.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/Background.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/Mouse.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/Input.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/Parcours.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/De.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/Pion.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/Case.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/Tileset.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/Map.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/SceneGameplay.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/classes/fetchJoueurs.js')}}"></script>
          <script type="text/javascript" src="{{asset('tilemap/js/MainGame.js')}}"></script>


        {% endblock %}
