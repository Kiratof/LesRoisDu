{% extends 'monTemplate.html.twig' %}

{% block extra_js %}
  <script src="{{ asset('js/jquery.collection.js') }}"></script>
{% endblock %}

{% block sidebar %}

<body class="is-preload">
  <!-- Sidebar -->
  <section id="sidebar">
    <div class="inner">
      <nav>
        <ul>
          <li><a href="{{path('hub')}}">RETOUR</a></li>
        </ul>
      </nav>
    </div>
  </section>
  {% endblock %}

  {% block body %}
  <!-- Wrapper -->
  <div id="wrapper">

    <!-- Intro -->
    <section id="partie" class="wrapper style1 fullscreen fade-up">
      <div class="inner">
        {% if action == 'creer' %}
        <h1>CREER UN PLATEAU</h1>

        <section id="three" class="wrapper style1 fade-up">
          <div class="inner">

            {% form_theme vueFormulaireCreationPlateau with
                          ['form/form-theme.html.twig',
                          'jquery.collection.html.twig']   %}
          <div class="inner" id="ensembleformulaire">
            {{form_start(vueFormulaireCreationPlateau) }}
            <div class="inner" id="unecase">
            {{ form_row(vueFormulaireCreationPlateau.nom)}}
            </div>
            {{ form_row(vueFormulaireCreationPlateau.description)}}
            {{ form_row(vueFormulaireCreationPlateau.nbPion,  { 'label' : 'Nombre de pions' })}}
            {{ form_row(vueFormulaireCreationPlateau.nbFaceDe,  { 'label' : 'Nombre de faces du dé' })}}
            {{ form_row(vueFormulaireCreationPlateau.niveauDifficulte, { 'label' : 'Niveau de difficulté' })}}

            <div id="ensemblecases">
            <h3>Cases/Défis</h3>
            <blockquote>Veuillez saisir entre 12 et 31 descriptifs</blockquote>
                  <div id="unelement">
                  {{ form_row(vueFormulaireCreationPlateau.cases) }}
                  </div>
            </div>

          </div>
            <Br>



          </div>

          {{form_end(vueFormulaireCreationPlateau)}}

          <div class="row">
                    <div class="col-md-12">
             <a href="" class="button submit">Valider la création </a>
             <a href="{{ path('hub')}}" class="button scrolly">Annuler la création </a>
                    </div>
          </div>

        {%else%}

        <h1>MODIFIER UN PLATEAU</h1>
        <section id="three" class="wrapper style1 fade-up">
          <div class="inner">

            {{form_start(vueFormulaireCreationPlateau) }}
            {{ form_row(vueFormulaireCreationPlateau.nom)}}
            {{ form_row(vueFormulaireCreationPlateau.description)}}
            {{ form_row(vueFormulaireCreationPlateau.niveauDifficulte, { 'label' : 'Niveau de difficulté' })}}

            <Br>


          <div class="row">
                    <div class="col-md-12">
             <a href="" class="button submit">Valider la modification </a>
             <a href="{{ path('parametres_plateau', {'idPlateau' : plateau.id}) }}" class="button scrolly">Annuler la modification </a>
          </div>
        </div>

          </div>

          {{form_end(vueFormulaireCreationPlateau)}}

        {% endif %}

      </div>
    </section>
  </div>


  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function(event) {
          $('.collection-cases').collection({
              prefix: 'cases',
              init_with_n_elements: 12,
              max: 31,
              min: 12,
              fade_in: true,
              fade_out: true,
              position_field_selector: '.position-case',
          });

          tabBoutons = document.getElementsByClassName('fas fa-plus fa-2x');

          for (var i=0; i < tabBoutons.length; i++) {
            tabBoutons[i].onclick = function(){

              };
            };



          nombreDescriptif = document.getElementById('unelement').children[0].children[0].childElementCount-2;

          for (var j=0; j < nombreDescriptif ; j++){

          };



      });



   </script>




  {% endblock %}




  {% block footer %}
  {% endblock %}
